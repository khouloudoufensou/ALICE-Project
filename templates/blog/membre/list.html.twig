{% extends "base.html.twig" %}

{% block title %}Liste des articles{% endblock %}

{% block body %}

{% if is_granted('ROLE_MEMBER') %}
    <div class="text-end">
            <a href="{{ path('membre_blog_create') }}" class="btn btn-secondary mb-2">+ Nouvel article</a>
    </div>
{% endif %}

<div class="row mt-5">
        {% for article in articles %}
            <div class="col-md-6 col-lg-4 mb-3">
                <div class="card">
                    <div class="img-ratio" style="--ratio: 40%; width: 22rem; height: 15rem;">
                        <div class="img">
                            <img src="{{ asset(article.imagePath) }}" class="card-img-top w-100" style="width: 22rem; height: 15rem;"alt="card image.">
                        </div>
                    </div>
                    <div class="card-body" style="width: 22rem; height: 15rem;">
                        <h5 class="card-title">{{ article.title }}</h5>
                        <p class="card-text">{{ article.content|slice(0,100) }}</p>
                    </div>
                    <div>
                        <a href="{{ path('membre_blog_update', {id: article.id}) }}" class="btn btn-secondary mb-2">Modifier l'article</a>
                    </div>
                </div>
            </div>
        {% endfor %}
</div>   
   
{% endblock %}